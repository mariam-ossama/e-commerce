import{a as P}from"./chunk-SBBWHKLP.js";import{b as d,d as L,g as M,i as T,k as I,m as B}from"./chunk-TRUN5YG2.js";import{a as _}from"./chunk-TFOTLTCI.js";import{C as E}from"./chunk-44CX672S.js";import{a as F}from"./chunk-MGYB2XQA.js";import{a as C}from"./chunk-CRQC5KLK.js";import"./chunk-PG6YDBKM.js";import{h as y,i as k}from"./chunk-WZYW2SYO.js";import"./chunk-XP42DWIM.js";import{Gb as f,Ib as w,Oa as a,Tb as o,Ua as h,Vb as S,X as m,_a as x,a as v,da as p,ea as b,mb as u,nb as g,sb as c,tb as e,ub as t,vb as s}from"./chunk-U2DWYZVE.js";import"./chunk-4CLCTAJ7.js";function R(n,i){n&1&&s(0,"i",15)}function D(n,i){if(n&1&&(e(0,"div",16),p(),e(1,"svg",19),s(2,"path",20),t(),b(),e(3,"span",21),o(4,"Info"),t(),e(5,"div",22),o(6),t(),e(7,"button",23)(8,"span",21),o(9,"Close"),t(),p(),e(10,"svg",24),s(11,"path",25),t()()()),n&2){let l=w();a(6),S(" ",l.errorMessage," ")}}var G=class n{constructor(i){this.flowbiteService=i}flag=!0;isLoading=!1;errorMessage="";subscription=new v;fb=m(I);authService=m(F);cookieService=m(C);router=m(y);loginForm;ngOnInit(){this.initForm()}initForm(){this.loginForm=this.fb.group({email:[null,[d.required,d.email]],password:[null,[d.required,d.pattern(/^\w{4,}$/)]]}),this.flowbiteService.loadFlowbite(i=>{E()})}submit(){this.loginForm.valid&&(this.isLoading=!0,this.subscription.unsubscribe(),this.authService.login(this.loginForm.value).subscribe({next:i=>{console.log(i),i.message=="success"&&(this.isLoading=!1,this.cookieService.set("token",i.token),setTimeout(()=>{this.router.navigate(["/home"])},3e3))},error:i=>{console.log(i),this.isLoading=!1,this.errorMessage=i.error.message}}))}navigateToRegister(){this.router.navigate(["/register"])}static \u0275fac=function(l){return new(l||n)(h(_))};static \u0275cmp=x({type:n,selectors:[["app-login"]],decls:29,vars:12,consts:[[1,"min-h-screen","py-14"],[1,"container","flex","justify-center","items-center"],[1,"card","block","w-3/4","p-6","m-14","bg-white","border","border-gray-200","rounded-lg","shadow-lg","hover:bg-gray-100","transition-all","duration-200"],[1,"text-center","txt-color","font-bold","text-3xl"],[1,"text-center","second-txt-color"],[3,"ngSubmit","formGroup"],[3,"control","inputType","inputId","inputPlaceholder","label"],[3,"control","inputId","inputPlaceholder","label"],[1,"flex","items-center","mb-4"],["id","agreeToConditions","type","checkbox","value","",1,"w-4","h-4","text-[#8B5E35]","bg-gray-100","border-gray-300","rounded-sm","focus:ring-[#8B5E35]","focus:border-[#8B5E35]"],[1,"flex","justify-between","items-center","w-full"],["for","default-checkbox",1,"ms-2","text-sm","font-medium","text-gray-900","third-txt-color"],["routerLink","/forgot-password",1,"underline","text-[#8B5E35]","cursor-pointer"],[1,"flex","justify-center","items-center"],[1,"btn-alternate-style","flex-3/4"],[1,"fas","fa-spinner","fa-spin","text-white"],["id","alert-2","role","alert",1,"flex","items-center","p-4","mb-4","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],[1,"text-center","third-txt-color"],[1,"cursor-pointer","underline","text-[#8B5E35]",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","w-4","h-4"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"ms-3","text-sm","font-medium"],["type","button","data-dismiss-target","#alert-2","aria-label","Close",1,"ms-auto","-mx-1.5","-my-1.5","bg-red-50","text-red-500","rounded-lg","focus:ring-2","focus:ring-red-400","p-1.5","hover:bg-red-200","inline-flex","items-center","justify-center","h-8","w-8","dark:bg-gray-800","dark:text-red-400","dark:hover:bg-gray-700"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"]],template:function(l,r){l&1&&(e(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),o(4,"Welcome Back!"),t(),e(5,"p",4),o(6,"please login to continue"),t(),e(7,"form",5),f("ngSubmit",function(){return r.submit()}),s(8,"app-input",6),e(9,"app-input",7)(10,"li"),o(11,"Invalid Password"),t()(),e(12,"div",8),s(13,"input",9),e(14,"div",10)(15,"label",11),o(16,"Remember Me"),t(),e(17,"a",12),o(18,"Forgot Password?"),t()()(),e(19,"div",13)(20,"button",14),o(21,"Log in "),e(22,"span"),u(23,R,1,0,"i",15),t()()(),u(24,D,12,1,"div",16),t(),e(25,"p",17),o(26,"Don't have an account? "),e(27,"span",18),f("click",function(){return r.navigateToRegister()}),o(28,"Sign Up"),t()()()()()),l&2&&(a(7),c("formGroup",r.loginForm),a(),c("control",r.loginForm.get("email"))("inputType","email")("inputId","email")("inputPlaceholder","Enter your email...")("label","E-mail"),a(),c("control",r.loginForm.get("password"))("inputId","password")("inputPlaceholder","Enter your Password...")("label","Password"),a(14),g(r.isLoading?23:-1),a(),g(r.errorMessage?24:-1))},dependencies:[B,M,L,T,P,k],encapsulation:2})};export{G as LoginComponent};
