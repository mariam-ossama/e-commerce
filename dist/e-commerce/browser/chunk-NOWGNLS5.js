import{a as k}from"./chunk-7UIQC7ES.js";import{l as w}from"./chunk-T4L5SLXP.js";import"./chunk-PG6YDBKM.js";import{i as I}from"./chunk-WZYW2SYO.js";import"./chunk-XP42DWIM.js";import{Bb as y,Gb as m,Ib as v,La as b,Oa as l,Tb as c,Ub as S,Vb as u,X as x,_a as g,ac as E,ba as p,ca as f,qb as _,rb as h,sb as C,tb as n,ub as i,vb as o}from"./chunk-U2DWYZVE.js";import"./chunk-4CLCTAJ7.js";var P=a=>["/checkout",a],D=(a,t)=>t._id;function F(a,t){if(a&1){let e=y();n(0,"div",15)(1,"div",16),o(2,"img",17),i(),n(3,"div",18)(4,"div",19)(5,"h3",20),c(6),i(),n(7,"div",4)(8,"div",21)(9,"button",22),m("click",function(){let d=p(e).$implicit,s=v();return f(s.updateProductQuantity(d.product._id,d.count-1))}),o(10,"i",23),i(),n(11,"span",24),c(12),i(),n(13,"button",22),m("click",function(){let d=p(e).$implicit,s=v();return f(s.updateProductQuantity(d.product._id,d.count+1))}),o(14,"i",25),i()(),n(15,"button",22),m("click",function(){let d=p(e).$implicit,s=v();return f(s.deleteProductItem(d.product._id))}),o(16,"i",26),i()()(),n(17,"h3",27),c(18),i()()(),o(19,"hr",11)}if(a&2){let e=t.$implicit;l(2),C("src",e.product.imageCover,b)("alt",e.product.title),l(4),S(e.product.title),l(6),u(" ",e.count," "),l(6),u(" ",e.price*e.count," EGP")}}function V(a,t){a&1&&(n(0,"div",7)(1,"div",16),o(2,"div",28),i(),n(3,"div",18)(4,"div",29),o(5,"div",30),n(6,"div",31)(7,"div",32),o(8,"div",33)(9,"div",34)(10,"div",33),i(),o(11,"div",35),i()(),o(12,"div",36),i()())}var T=class a{cartService=x(k);toastrService=x(w);cart={};cartItemsCount=0;ngOnInit(){this.getCartData()}getCartData(){this.cartService.getLoggedUserCart().subscribe({next:t=>{console.log(t),t.status==="success"&&(this.cart=t.data,this.cartItemsCount=t.numOfCartItems)}})}updateProductQuantity(t,e){this.cartService.updateItemQuantity(t,e).subscribe({next:r=>{console.log(r),r.status==="success"&&(this.cart=r.data)}})}deleteProductItem(t){this.cartService.deleteCartItem(t).subscribe({next:e=>{console.log(e),e.status==="success"&&(this.cart=e.data,this.cartItemsCount=e.numOfCartItems)}})}clearCartData(){this.cartService.clearCart().subscribe({next:t=>{console.log(t),t.message==="success"&&this.toastrService.success(t.message)}})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=g({type:a,selectors:[["app-cart"]],decls:23,vars:6,consts:[[1,"min-h-screen","py-14","bg"],[1,"container"],[1,"grid","sm:grid-cols-12","p-10","items-start"],[1,"col-span-8","me-5"],[1,"flex","items-center","space-x-6"],[1,"txt-color","text-4xl","font-bold"],[1,"text-[#8B5E35]"],[1,"grid","sm:grid-cols-12","bg-white","border","border-transparent","rounded-md","p-2","gap-2","animate-pulse"],[1,"col-span-4","border","border-transparent","rounded-md","p-5","bg-white","txt-color"],[1,"text-2xl","font-semibold"],[1,"text-xl"],[1,"my-3","third-txt-color"],[1,"flex","items-center","justify-evenly"],[1,"btn-alternate-style","block",3,"routerLink"],[1,"btn-main-style","block","text-red-700",3,"click"],[1,"grid","sm:grid-cols-12","bg-white","border","border-transparent","rounded-md","p-2","gap-2"],[1,"col-span-2"],[1,"w-full","block","rounded-md",3,"src","alt"],[1,"col-span-10","flex","items-center","justify-between"],[1,"flex","flex-col","items-start","gap-1","txt-color"],[1,"font-medium","text-xl"],[1,"flex","items-center","space-x-10","border","border-[#C0C0C0]","rounded-md","py-2","bg"],[3,"click"],[1,"fa-solid","fa-minus","cursor-pointer"],[1,"font-bold"],[1,"fa-solid","fa-plus","cursor-pointer"],[1,"fa-solid","fa-trash","text-[#8B5E35]","cursor-pointer"],[1,"font-bold","text-lg"],[1,"w-full","h-24","bg-gray-200","rounded-md"],[1,"flex","flex-col","gap-3","w-2/3"],[1,"h-5","w-40","bg-gray-300","rounded"],[1,"flex","items-center","gap-6"],[1,"flex","items-center","gap-6","border","border-[#C0C0C0]","rounded-md","py-2","px-4","bg-gray-100"],[1,"h-4","w-4","bg-gray-300","rounded"],[1,"h-4","w-6","bg-gray-300","rounded"],[1,"h-5","w-5","bg-gray-300","rounded"],[1,"h-5","w-20","bg-gray-300","rounded"]],template:function(e,r){e&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),c(6,"Cart"),i(),n(7,"span",6),c(8),i()(),_(9,F,20,5,null,null,D,!1,V,13,0,"div",7),i(),n(12,"div",8)(13,"h2",9),c(14,"Order Summary"),i(),n(15,"h3",10),c(16),i(),o(17,"hr",11),n(18,"div",12)(19,"button",13),c(20,"Proceed To Checkout"),i(),n(21,"button",14),m("click",function(){return r.clearCartData()}),c(22,"Clear Cart"),i()()()()()()),e&2&&(l(8),u("",r.cartItemsCount," items"),l(),h(r.cart.products),l(7),u("Total: ",r.cart.totalCartPrice," EGP"),l(3),C("routerLink",E(4,P,r.cart._id)))},dependencies:[I],encapsulation:2})};export{T as CartComponent};
