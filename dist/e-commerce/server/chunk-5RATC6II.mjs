import './polyfills.server.mjs';
import{c as y}from"./chunk-EI6XX62Z.mjs";import{a as b,b as x}from"./chunk-S45EHLM4.mjs";import"./chunk-R3P46UBH.mjs";import{l as _}from"./chunk-B6XYCFTU.mjs";import"./chunk-IT7UANVT.mjs";import"./chunk-FS4VX5NN.mjs";import"./chunk-LYQUDD53.mjs";import{Fb as v,Kb as f,Mb as l,Qa as m,W as n,Xb as w,aa as a,ab as c,ba as d,ub as p,vb as h,wb as u,xb as o,yb as r,zb as g}from"./chunk-F7B3EIZI.mjs";import"./chunk-X2SEQXRR.mjs";var S=(i,e)=>e.id;function T(i,e){if(i&1){let t=v();o(0,"app-card",6),f("favouriteToggled",function(W){a(t);let I=l();return d(I.removeWishlistItem(W))}),r()}if(i&2){let t=e.$implicit,s=l();u("product",t)("isFavourite",s.wishlistIds.includes(t._id))}}function F(i,e){i&1&&(o(0,"div",5),g(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10),r())}var C=class i{wishlistService=n(b);toastrService=n(_);wishList=[];wishlistIds=[];ngOnInit(){this.getWishlistItems()}getWishlistItems(){this.wishlistService.getWishlist().subscribe({next:e=>{console.log(e),this.wishList=e.data,this.wishlistIds=e.data.map(t=>t._id)}})}removeWishlistItem(e){this.wishlistService.removeFromWishlist(e).subscribe({next:t=>{console.log(t),t.status==="success"&&(this.toastrService.success(t.message),this.wishList=this.wishList.filter(s=>s.id!==e))}})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=c({type:i,selectors:[["app-wishlist"]],decls:8,vars:1,consts:[[1,"min-h-screen","py-14","bg"],[1,"text-center","py-5","text-4xl","text-[#8B5E35]","font-bold"],[1,"container","w-3/4"],[1,"products","grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-3"],[3,"product","isFavourite"],[1,"max-w-full","bg-white","border","border-gray-200","rounded-lg","shadow-md","p-4","animate-pulse"],[3,"favouriteToggled","product","isFavourite"],[1,"w-full","h-40","bg-gray-300","rounded-md","mb-4"],[1,"h-4","bg-gray-200","rounded","w-3/4","mb-2"],[1,"h-4","bg-gray-200","rounded","w-1/2","mb-4"],[1,"h-10","bg-gray-300","rounded-md"]],template:function(t,s){t&1&&(o(0,"section",0)(1,"h2",1),w(2,"Wishlist"),r(),o(3,"div",2)(4,"div",3),p(5,T,1,2,"app-card",4,S,!1,F,5,0,"div",5),r()()()),t&2&&(m(5),h(s.wishList))},dependencies:[y,x],encapsulation:2})};export{C as WishlistComponent};
